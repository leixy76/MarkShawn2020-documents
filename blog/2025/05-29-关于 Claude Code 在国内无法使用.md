---
author: å—å·
publishDate: 2025-05-29
articleTitle: å…³äº Claude Code åœ¨å›½å†…æ— æ³•ä½¿ç”¨
articleSubtitle: ä»¥åŠå„ç§ä»£ç†é—®é¢˜çš„å…±æ€§
episodeNum: Vol. 42
seriesName: 
tags:
  - Proxy
  - ChatGPT
  - Claude
  - Debug
originalPaper: "Augmenting Human Intellect: A Conceptual Framework"
originalPaperAuthor: Douglas Engelbart
---

## å…ˆè¯´ç»“è®º

**åœ¨å¤§é™†ä½¿ç”¨ claude code ï¼ˆä»¥åŠå…¶ä»–ä»»ä½•æµ·å¤–äº§å“ï¼‰ çš„å…³é”®ï¼š**
1. **ç¡®ä¿ä½¿ç”¨èŠ‚ç‚¹**
2. **ç¡®ä¿èŠ‚ç‚¹æœ‰æ•ˆ**

æˆ‘çŸ¥é“ï¼Œå¾ˆå¤šäººä¼šè§‰å¾—è¯´äº†ç­‰äºæ²¡è¯´ï¼Œ**ä»–ä»¬æ€»æ€€ç–‘ä¸€å®šæ˜¯æœ‰å…¶ä»–çš„é—®é¢˜**ã€‚

ä½†æ ¹æ®æˆ‘çš„ç»éªŒï¼Œ**å¾€å¾€é—®é¢˜æœ€ç»ˆè¿˜æ˜¯å½’åˆ°äº†ä¸Šé¢ä¸¤ä¸ªæœ€åŸºæœ¬çš„åŸå› **ã€‚


## å†è¯´ç»†èŠ‚


å¯¹äº 1ï¼Œæœ‰å¤šç§æ–¹å¼ï¼š
- 1.1. å¼ºåˆ¶ä½¿ç”¨ä»£ç† 

```shell
HTTP_PROXY=http://127.0.0.1:7890 \
HTTPS_PROXY=http://127.0.0.1:7890 \
claude
```

- 1.2. ä½¿ç”¨ global mode ï¼ˆé£é™©ç‚¹ 1. æœ‰äº›å‘½ä»¤è¡Œæˆ–è€…ç¨‹åºé€»è¾‘ï¼Œä¸ä¼šèµ°ç³»ç»Ÿä»£ç†ï¼›é£é™©ç‚¹ 2. å¯èƒ½éœ€è¦ TUN æ¨¡å¼æ”¯æŒï¼‰
- 1.3. ä½¿ç”¨ proxy modeï¼Œä½†æ˜¯ rules é‡Œè¦ç¡®ä¿æœ€ç»ˆèƒ½æŒ‡å‘ç›®æ ‡èŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡æ‰“å¼€ä»£ç†è½¯ä»¶ï¼ˆä¾‹å¦‚ clashxï¼‰çš„ logï¼Œclear åæµ‹è¯• claude è¿™ä¸ªå‘½ä»¤æœ€ç»ˆä¼šè§¦å‘å“ªä¸€æ¡ï¼›å¿…è¦çš„æƒ…å†µä¸‹å¯ä»¥æ‰‹åŠ¨åŠ ä¸€äº› rule é…ç½®ï¼Œå°¤å…¶æ˜¯ `api.anthropic.com:443`ã€`console.anthropic.com:443` è¿™ä¸¤æ¡ï¼ˆ1.2 ä¸­çš„é£é™©ç‚¹å¯¹ 1.3 ä¾æ—§å­˜åœ¨ï¼‰
  
![clash åŠ«æŒ claude è·¯ç”±](https://poketto.oss-cn-hangzhou.aliyuncs.com/9bb622924ab1feafb7c1c6993ff93a11.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)


å¯¹äº 2ï¼š
- 2.1. å³ä¾¿å·²ç»ä½¿ç”¨äº†èŠ‚ç‚¹ï¼Œå³ä¾¿å·²ç»ä½¿ç”¨äº†æµ·å¤–çš„èŠ‚ç‚¹ï¼Œä¾æ—§æœ‰å¯èƒ½æ˜¯æ— æ•ˆçš„ï¼Œå› ä¸ºèŠ‚ç‚¹å¯èƒ½å› ä¸ºæŸäº›åŸå› ï¼ˆä½¿ç”¨çš„äººå¤šã€éé«˜åŒ¿ç­‰ï¼‰å·²ç»è¢« Anthropic æ‹‰é»‘äº†ï¼Œå› æ­¤å¯ä»¥å…ˆæµ‹è¯•ä¸€ä¸‹ä¸åŒçš„èŠ‚ç‚¹æ˜¯å¦æœ‰æ•ˆï¼ˆæˆ‘çš„æ–°åŠ å¡æŸèŠ‚ç‚¹å·²ç»æ— æ•ˆï¼Œç¾å›½æŸèŠ‚ç‚¹æœ‰æ•ˆï¼‰
- 2.2. å¦‚æœæ‰€æœ‰èŠ‚ç‚¹éƒ½æ— æ•ˆï¼Œå¯èƒ½æ˜¯æ¢¯å­é—®é¢˜ï¼Œä¹Ÿå¯èƒ½æ˜¯ç¯èŠ‚ 1 æ²¡æœ‰é…ç½®å¥½
- 2.3. ç›®å‰æˆ‘è¿˜ä¸çŸ¥é“æ£€æµ‹ Anthropic ä¸èŠ‚ç‚¹ä¹‹é—´æ”¾è¡Œå…³ç³»çš„æ‰‹æ®µï¼Œå‚è€ƒæˆ‘ä»¥å‰å†™çš„ [ChatGPTé™æ™ºæœ€ä½³å®è·µç ”ç©¶](https://mp.weixin.qq.com/s/QTgkiNrJBgfES_bqldoBDQ)æ–‡ç« é‡Œçš„ç»“è®ºã€Œscamalytics.com çš„ IP å¥åº·åº¦ä¸è´¦å·æ²¡æœ‰å…³ç³»ã€ï¼Œæ‰€ä»¥å¯èƒ½è¿˜éœ€è¦æ¯ä¸ªæœ‹å‹è‡ªå·±æµ‹è¯•ä¸åŒèŠ‚ç‚¹ claude æ˜¯å¦å¥æ•ˆ


è¡¥å……ï¼š
- è·Ÿ claude ç‰ˆæœ¬æ— å…³ï¼Œç›®å‰ï¼ˆ2025-05-29 12:57:23ï¼‰æœ€æ–°ç‰ˆæœ¬ `claude -v`æ˜¯ 1.0.5
- claude å‘½ä»¤è¡ŒåŸºæœ¬ä½¿ç”¨ï¼š
  
```shell
# é…ç½®ä»£ç†
claude config set --global env \
'{"HTTP_PROXY":"http://127.0.0.1:7890","HTTPS_PROXY":"http://127.0.0.1:7890","NO_PROXY":"localhost,127.0.0.1"}'

# æŸ¥çœ‹é…ç½®
claude config get env -g
```


- claude code ç›®å‰ä¾æ—§å±äºå¼€å‘é˜¶æ®µï¼Œæ‰€ä»¥ set å get å¯èƒ½ä¸èƒ½åŠæ—¶æ›´æ–°ï¼Œå¯ä»¥é‡å¯å‘½ä»¤è¡Œï¼Œæˆ–è€…check `~/.claude/settings.json`




## æœ€åè¯´ä¸€ä¸‹æœ¬è´¨

æœ¬æ¥æ²¡æƒ³å†™ä¸€ç¯‡æ–‡ç« ã€‚

ä½†æ„è¯†åˆ°ä¸€äº›é—®é¢˜ã€‚

å°±æ˜¯æµ·å¤–æŸä¸ªè½¯ä»¶èƒ½ä¸èƒ½è¿ä¸Šï¼Œè¿™ä¸ªäº‹æƒ…æ€»èƒ½å¼•èµ·å¾ˆå¤šäººå›°æ‰°ï¼Œç”šè‡³æ˜¯å¾ˆå¤šå·¥ç¨‹å¸ˆçš„å›°æ‰°ã€‚

æˆ‘ä¹Ÿä¸€åº¦æŸæ‰‹æ— ç­–ã€‚

ä½†å…¶å®å¦‚æœæˆ‘ä»¬ä¸€æ­¥æ­¥ä»”ç»†æ‹†è§£ï¼Œäº‹æƒ…å°±é‚£ä¹ˆç®€å•ï¼Œæ¯•ç«Ÿå°±æ˜¯ä¸€ä¸ªç½‘ç»œè¿æ¥é—®é¢˜ï¼Œç½‘ç»œè¿æ¥åˆ†å‡ æ­¥ï¼Ÿ

1. ç”±ä¸€ä¸ªå®¢æˆ·æœºå‘èµ·è¿æ¥
2. ç¨‹åºå¯èƒ½ä¼šæ£€æŸ¥è¯¥è¿æ¥æ˜¯å¦æœ‰æ•ˆï¼Œæœ‰æ•ˆåˆ™å‘èµ·å‡ºç½‘
3. è¿æ¥ä»æŸå¤„ï¼ˆå®¢æˆ·æœºipï¼‰ç»è¿‡æŸä¸ªä»£ç†ï¼ˆproxyï¼‰ï¼Œæ‰“åˆ°ç›®æ ‡åœ°å€ï¼ˆç›®æ ‡ ipï¼‰
4. ç¨‹åºå¾€å¾€ä¼šæ£€æŸ¥è¯¥è¯·æ±‚ï¼ˆåŒ…æ‹¬å®¢æˆ·æœº ipï¼‰æ˜¯å¦æœ‰æ•ˆ
5. æœ‰æ•ˆåˆ™è¿”å›æ­£ç¡®ç»“æœï¼Œå¦åˆ™æŠ¥é”™

å•†ä¸šç•Œçš„æƒ¯å¸¸åšæ³•ä¸»è¦æ˜¯åˆ†æè¿™ä¸ª proxyï¼ˆå¦‚æœ‰ï¼Œå¦åˆ™å°±æ˜¯å®¢æˆ·æœº ipï¼‰æ˜¯å¦åˆè§„ã€‚

åˆè§„ä¸å¦å¯ä»¥æ˜¯ä¸€ä¸ª yes or no çš„äºŒå…ƒå€¼ã€‚

ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª 0 åˆ° 1 ä¹‹é—´çš„è¿ç»­é‡ï¼ˆå¥åº·åº¦ï¼‰ã€‚

åœ¨æˆ‘ä¹‹å‰çš„æ–‡ç«  [ChatGPTé™æ™ºæœ€ä½³å®è·µç ”ç©¶](https://mp.weixin.qq.com/s/QTgkiNrJBgfES_bqldoBDQ) ä¸­ï¼Œæˆ‘ä»¬æœ‰ç†ç”±æ€€ç–‘ ChatGPT å¯¹ç”¨æˆ·è¯·æ±‚åšäº†ä¸€ä¸ªæ‰“åˆ†ï¼Œè¿™æ ·å¯ä»¥å®ç°åœ¨ä¸åŒè´Ÿè½½ä¸‹ä¸åŒæ¦‚ç‡çš„é£æ§ï¼Œä»¥è·å–æœ€å¤§çš„ç”¨æˆ·ä½“éªŒä¸å¹¶å‘é‡ä¹‹é—´çš„å¹³è¡¡ã€‚

è¿™é‡Œé¢æ¯”è¾ƒ tricky çš„ç‚¹æ˜¯ï¼Œå¾ˆå¤šäººå¯¹ ğŸªœ çš„å…¨å±€ä»£ç†æ¨¡å¼ä¸è·¯ç”±æ¨¡å¼ä¸äº†è§£ï¼Œä¹Ÿå¾ˆå°‘æœ‰äººä¸“é—¨å»ç ”ç©¶è¿‡é‚£äº›é…ç½®æ–‡ä»¶ï¼ˆrulesï¼‰ï¼Œæ›´åŠ ç¼ºä¹è°ƒè¯•ä¸ä¿®æ”¹çš„ç»éªŒã€‚

- ä¹‹å‰ç¢°åˆ°è¿‡æœ‰äº›é…ç½®æ–‡ä»¶æ²¡æœ‰é…ç½® linkedin.com å¯¼è‡´é¢†è‹±ä¼šè¢«å¯¼å‘å›½å†…
- è¿™æ˜¯ä¸€ä»½ AI ç›¸å…³çš„é…ç½® rulesï¼Œéƒ¨åˆ†äººå¯èƒ½éœ€è¦ï¼Œä½†ä¹Ÿä¸å®Œå…¨ï¼š[ai clash rule list](https://gist.github.com/sarices/017da597ae6b28063bbdd52693d78385)


è€Œè¿™äº›ï¼Œå…¶å®ç†åº”æŒæ¡çš„ï¼Œè®¤çœŸå­¦ä¹ ä¸€ä¸‹ï¼Œå¤§æ¦‚å°±ä¸€å°æ—¶æå®šäº†å§ï¼

>ä¸çŸ¥é“å¸‚åœºæœ‰æ²¡æœ‰éœ€æ±‚ï¼Œæ‰“èµè¶…è¿‡ 1000 æˆ‘å¯ä»¥å†™ä¸€ç¯‡è¯¦ç»†çš„æ–‡æ¡£ğŸ¤”

å¦ä¸€ä¸ª tricky çš„ç‚¹æ˜¯ï¼Œä¸çŸ¥é“ç›®æ ‡å¹³å°å¯¹å“ªäº› IP å·²ç»åšäº†é£æ§å¤„ç†ï¼Œè¿™ä¸ªè¦è¯•ï¼Œæ¯ä¸ªå¹³å°éƒ½ä¸ä¸€æ ·ã€‚æ­¤å¤–ï¼Œç”±äºå¾ˆå¤šäººéƒ½ä¼šæ¨èæ”¹ DNSï¼ˆDNS æ±¡æŸ“é—®é¢˜ï¼‰ï¼Œå¯¼è‡´æ’æŸ¥éš¾åº¦çš„ä¸Šå‡ã€‚å…¶å®å°±æˆ‘ä¸ªäººç»éªŒï¼Œ**é™¤äº†ç ´è§£è½¯ä»¶ã€ç»•è¿‡é˜²ç«å¢™ä¹‹ç±»çš„åœºæ™¯ï¼Œåœ¨å·²æœ‰æ¢¯å­çš„æƒ…å†µä¸‹ï¼ŒDNS ä¸€èˆ¬éƒ½æ˜¯ä¸éœ€è¦ä¿®æ”¹çš„**ã€‚

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/b1aaae9ef8a6c287ce402d36b85c4376.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä¸€èˆ¬ä¼šç”¨ 8.8.8.8ï¼Œä»¥åŠåŸºäº clash è‡ªåŠ¨é…ç½®ï¼ˆå¿…è¦çš„æ—¶å€™ä¼šå…³æ‰å®ƒé‡å¯ï¼Œä»¥æ¢å¤é»˜è®¤é…ç½®ï¼‰ã€‚

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/f66ae8ae7b7ce9f1c1d2cfa9dab81067.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/96fda0a669da33a0a0dfd460fe98d937.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)


---

æœ¬æ–‡æ„Ÿè°¢ Stain ç­‰äººçš„äº¤æµï¼Œå¯¹ claude code ç­‰ AI ç¼–ç¨‹æ„Ÿå…´è¶£çš„æ¬¢è¿åŠ ç¾¤ï¼š

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/8d71123b8227bd33a11b529ae8269858.jpg?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/e3c12163b296653792a61b2d45a34faf.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0/crop,x_100)

å°±è¿™äº›å§ï¼Œå¸Œæœ›ä½ ä¸€åˆ‡é¡ºåˆ©ï¼
