---
author: MarkShawn
publishDate: 2025-07-06
articleTitle: Vibe Coding 的坑到底有多少？
articleSubtitle: 从一个SVG转PNG插件开发实例看AI编程的真实体验
episodeNum: 第 49 期
seriesName: 人文与科技
tags:
 - Vibe Coding
 - Claude Code
 - AI编程
 - 插件开发
 - 开发实践
 - 技术挑战
 - 工程经验
---

现在 Vibe Coding 确实很火，但 Vibe Coding 真地有那么强吗？真地能帮我们交付产品吗？程序猿是不是真地要彻底失业了？带着这些疑问，本期，我们就以一个实际开发某个插件的小例子，来详尽地感受一下 Vibe Coding 的 Yes Or Not。

先说一下背景，我们想要一张发布会场景的平面布置图，由于偏结构为主而非渲染为主，我们很自然而然地想到使用 claude app 的 artifact 功能帮我们生成。

![在 claude app 中绘制 svg ](https://poketto.oss-cn-hangzhou.aliyuncs.com/9e11ac255a75d24ec9784bc38372012c.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

但 claude 生成的图片格式是 svg，下载到本地后，我们需要额外转成更加广泛的 png 格式。

```ad-tip
claude在生成svg方面非常地强悍，去年我们就有用claude生成人生图腾，效果很好；而李继刚老师也正是靠着汉语新解（基于claude生成汉语解释的svg图片）火出了AI圈。
```

我们有很多种办法实现这个需求，在 9 个月前，我也写了一款叫的谷歌插件，它可以在网页版 claude artifact 里植入一个下载按钮，可以直接下载 artifact 里的图片为 png 格式，具体可以移步文章：[我开源了三个小插件，也许能提高一点你用大模型产品的效率](https://mp.weixin.qq.com/s/FIC1dvzrBQFo29UnYvOGvg)。

![claude-artifact-enhancer 谷歌插件可以直接在artifact内点击下载svg为png](https://poketto.oss-cn-hangzhou.aliyuncs.com/62cb18be35218b1009d1ec39443790b9.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

- 代码开源：https://github.com/MarkShawn2020/exts_chrome_claude-artifact-enhancer
- 插件地址：https://chromewebstore.google.com/detail/claude-artifact-enhancer/eipafnglebabfokbklohnjpamebcongh?hl=zh-cn。

除了利用插件，直接在 claude artifact 里导出 png 图片之外，还可以在一些网页端平台转换，例如：https://cloudconvert.com/svg-to-png

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/fd52921cd9383a1cac02255d81a8979f.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

```ad-tip

cloudconvert 是我非常喜欢与推荐的一个格式转换平台，官网显示：We've already converted **2,530,959,371 files** with a total size of **19,847 TB**.。

在涉及到文件格式转换（例如word、pdf等）的可以优先考虑它。

它如果还不能满足需求，可以再找找其他更专业的工具。
```

但有时候，我甚至懒到连一个网页也不愿意打开，我就希望直接右键，趴地一下，转换完成，这样是不是更舒服呢？（程序猿真地是世界上最懒的一种动物：）

如果换做以前，我们就想想就算了。

但现在！

是 Vibe Coding 时代！

**从来没有一个时代，像今天一样，只要你有 idea，你能驾驭各种 AI 工具，梦想就为你打开！**

so, let's just do it !

开启我们的 vibe coding 之旅！

---

先明确一下我们的需求，我们是要在 mac finder 里右键一个 svg 图片，然后有一个 SVG2PNG 的选项。

当然，这个需求其实可以细化，比如功能性需求：

- 转换后的图片应该尽可能高清，但体积又尽量不要太大
- 转换后的图片应该存储在当前文件夹，命名保持不变，只是改一下后缀（`svg --> png`）
- ……

以及非功能性需求：

- 转换的速度应该尽可能快，用户体验上应该保持无感
- 转换如果出错，应该给出明确的报错信息
- ……

但事实上，实际测试，即使我们不明确指出这些功能性需求或者非功能性需求，AI 也大致会默认按照这样的目标去做，如果我们需要了问题，可以再纠偏，这就引出了我们 vibe coding 的第一条原则：

```ad-tip
title: Vibe Coding Principle 01

如若可以，我们应尽可能明确与细化给到AI的需求；但也不必过于细化，实在不行，后续可视情况进行修复。
```

实际经验显示，整体来看，越精确**越专业**的描述，Vibe Coding 的体验越丝滑，AI 有越高概率写出正确的、符合预期的代码。

比如李继刚老师的汉语新解里约定图片生成的风格为蒙德里安风格、归藏老师对广告宣传 html 生成的风格为特斯拉 bento 风格、红杉中国前几天发布的寻找亚太地区 25 岁以下最具潜力的 AI 创新者海报为孟菲斯风格，仅仅几个字，AI 就能理解了，并总能生成符合预期的结果：**语义压缩水平是 prompt 工程师的核心 benchmark**。

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/f248ea5b890003f449e993f808ab7e08.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

- [试完这个神级 Prompt，我发现 Claude3.5 确实就是现在的 No.1。](https://mp.weixin.qq.com/s/JqhdmbXHbF7TGnVq8fyI3w)
- [藏师傅的网页生成提示词 3.0 ｜ 原来 Gemini 2.5 Pro 这么强](https://mp.weixin.qq.com/s/CKY0lmS1cuZ2eAeuUPbDgw)
- [寻找定义下一个 AI 十年的青年力量丨红杉中国联合《麻省理工科技评论》发起「AI25」评选](https://mp.weixin.qq.com/s/X5Yykh2oYEfuLD9YucO98A)

---

但为了最大程序地照顾 Vibe Coder（往往对 coding 一窍不通），所以我们不妨先怎么随意怎么来，看看能不能实现目标需求。

首先，我们选用了 claude code 作为我们的 vibe coding 主力工具，因为这是目前实际能力最强、效果最稳定的 AI 工具。

而且只是做一个右键菜单，并不需要太多 GUI 的操作（也就不需要用上 cursor 之类）。

如果你对 claude code 还不够了解，可以移步阅读我们往期的一些文章：

- [Vol 42. 关于 Claude Code 在国内无法使用，以及各种代理问题的共性](https://mp.weixin.qq.com/s/tcWe2K-AOjED4oaaVcciwQ)
- [Vol.44 关于 Claude Code 无法使用 @](https://mp.weixin.qq.com/s/m89KVpJ0IcQ1rJzdhrLw5A)
- [Vol 47. 如何更好地管理你的 claude code 以及 VC101 冷启动](https://mp.weixin.qq.com/s/mtc3tN8-SA_om0R4JzHCBA)

I see，I see，虽然已经写了三篇 claude code 的文章了，但是还是没有讲为什么选用 claude code，是嘛？

是的，有机会我会写一篇的，不过在那之前，我们只要记住：**claude code 地表最强，claude code YYDS 即可** ~

好地，以下就是我们在命令行（推荐 iterm）里打开 claude（使用 bypass permission 模式），并输入初始需求的效果。

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/8e8d6e7d0c8c48d7863ee082414bde5b.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

```ad-tip
title: 为什么选用bypass permission模式

在启动 claude 的时候，我们可以加上 `--dangerous-skip-permissions`，这会开启自动权限模式，比如自动通过类似 `rm` 之类的敏感操作，不建议新手启用。但对claude code在做什么已经比较轻车熟路的老手，可以开上，这样可以减少无意义的等待权限操作。即便后续遇到问题了也可以即时按esc中断，或者手动恢复（使用git等手段）。
```

然后，它就趴趴趴肝活了，非常地块，一两分钟分后，我们再在 finder 里的 svg 文件右键，就能看到在“服务”菜单里有一个「Conver SVG to PNG」的选项了：

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/32c9b10c01e79c82edff46b6916ab7a8.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

但点击后就报错了，弹窗报错：「服务输入出现问题」。

没事，我们复制粘贴后反馈给 claude code。

它框框框又改了一顿，完成之后发现，右键菜单里又没有这个选项了。。

跟它如实说明之后，它又框框框改了一顿，这次就 ok 了。

至此，我们的需求几乎完美实现！

看来，Vibe Coding 真地 YYDS！

Vibe Coding fire 了所有程序员！

---

按道理，如果我们是一个三流自媒体，文章写到上面确实可以结束了，claude code 确实帮助我们顺利地写了一个右键转换 svg 的功能，而且确实有效。

但作为一名资深工程师兼产品经理学徒，我们暂时还不能止步于此。

需求实现了吗？

实现了。

还有没有可以优化的？

有。

那让我们继续看看，继续往下走，会发生什么。

我们先是给 claude code 又加了一个需求，因为我们是 mac retina 显示屏，所以正常涉及到图片分辨率，我们其实是需要双倍的（这是经验），所以我们让它们给我们加上。

我一直强调，**AI 只是一个杠杆**，你懂得越多，AI 就能做地越好。

![我最终同时开着五个窗口，才能边调试边跑通程序](https://poketto.oss-cn-hangzhou.aliyuncs.com/22fb09d54b33b59d1e202dbc7933eb24.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)


但我在强调我经验很丰富吗，不，也不是，我们的认知总会有局限。没有任何一个人能通晓全部的知识与边界条件。即便你不知道 retina 屏，你也可以简单地对 claude code 说：_为什么我们的 svg 图片是清晰的，但是我们导出的 png 却不是_。

我以前就是这样在 windsurf 里对以前的 claude 描述的，最后得到的问题来源于 retina。

所以，现在我就可以不用再舍近求远了。这就是**常识与经验**。

所以这就引出了我们的第二条 Vibe Coding 原则。

```ad-tip
title: Vibe Coding Principle 02

我们应当**清晰地描述预期与现实**。

也许我们不知道问题在哪里（why），但我们描述地越清晰明确（what），AI越能帮助我们找到原因并给出解决方案。

但通常情况下，经验越多，Vibe Coding的体验越好。
```

比如，在输出图片总是分辨率有问题的情况下，我把输入图片和输出图片的内容都塞到问题里去，让 claude code 分析到底问题出现在哪里，这就比直接用自然语言描述问题（而不给其输入与输出）要好很多。

比如如下的 prompt，我们使用 `@` 去引用图片文件：

```markdown
还是不清晰，为啥，这是我们的源文件 @svg2png_test/venue-layout-plan.svg ，这是目前的输出文件 @svg2png...
```

---

很快，claude code 又帮我们解决了分辨率的问题了，但我还是不满足，因为现在这个 svg 转 png 的功能是注册在右键服务下的，我希望注册在快速操作下。

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/b6820b9c3564f7324856f048fb22fbc7.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

这两个从技术角度来说，其实是一样的，都是层级深度为 2，但我就是觉得别扭。因为在产品视角来说，「服务」和「快速操作」两个东西的体验感是不一样的。

而对 AI 来说，这理应也很容易实现才对。

但没想到这便是噩梦的开始，让 AI 写一个右键转图的服务只用了十分钟不到，但为了让它写一个右键转图的快速操作，我花了至少一个小时，并且让我真正深刻地意识到，vibe coding 这种事，最好还是交给专业的人去做……

为节省篇幅，我直接运行我们前几天开发的 `claude-code-manager` 工具（参考：[Vol 47. 如何更好地管理你的 claude code 以及 VC101 冷启动](https://mp.weixin.qq.com/s/mtc3tN8-SA_om0R4JzHCBA)），罗列一下我们最终的运行历史：

```shell
ccm stat --history-order forward
```

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/ee104a3d9c54b707e10ee9b45942dc0d.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

```ad-tip
title: 关于 ccm

这是我们自研的一个claude code命令行管理工具，可以用于分析项目历史，支持历史瘦身等一些便捷功能，后续会陆续增添一些有用的集成。

- **GitHub**: https://github.com/markshawn2020/vctool-claude-code-manager
- **NPM**: https://www.npmjs.com/package/vctool-claude-code-manager

```

可以看到，实现 svg 转 png 这个功能，对 claude code 来说非常容易，但集成为一个 mac 右键菜单，还是碰到了不少问题。这里面补充一些其他几个比较突出的问题：

1. claude code 初始生成的脚本里，对宽和高没有特殊要求，后来在我们提及 retina 显示屏分辨率问题后，它强行指定了一个较高的分辨率（3200 x 3600）进行输出，虽然这会显著增大文件体积，但确实让分辨率提高了，**个人觉得应该有更好的办法（比如基于 dpi）**，但考虑到 svg 本身普遍较小（比如我们的测试 svg 大小为 9kb），这个问题倒不是很显著（输出后的 png 是 432kb，再调用 mac 自带的转换图像快捷方式转成 jpg 后在 100-500kb 之间）

![](https://poketto.oss-cn-hangzhou.aliyuncs.com/f1a2da175a53c315eb7c19c4fd6a960a.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

2. 让 AI 生成一个 mac automate workflow 并不是很大的问题，但是让它生成一个稍微偏僻点的快捷操作出现了问题，如果我们 google 一下，可以得到 mac 官方的帖子：[在 Mac 上使用快速操作工作流程 - 官方 Apple 支持 (中国)](https://support.apple.com/zh-cn/guide/automator/aut73234890a/mac)，我们可以把这个帖子转成 markdown 然后塞给 claude code 让它一步步实现；不过还有一种骚操作，那就是开启 `plan mode`，**在计划模式下 claude code 主动网页搜索了一些内容，然后给出了详细的实施方案，实测要比`edit mode`的方案靠谱很多**，建议大家可以多多体悟一下两种模式的差异。

![海外博主认为claude code的plan mode被严重低估了，参考：https://www.reddit.com/r/ClaudeAI/comments/1ldwqt3/claude_code_plan_mode/](https://poketto.oss-cn-hangzhou.aliyuncs.com/224bae9f92549c42c54f70d77ca6b476.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

![claude code 在 plan mode 下会主动搜索网页，并给出更加细致的解决方案](https://poketto.oss-cn-hangzhou.aliyuncs.com/7630ffa9024c1e3cc56b25eca30774ce.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

3. claude code 总是倾向于 **一旦碰到问题，就写备用方案**（我有时候会直接打断），这似乎看起来很有效，但其实会显著增加代码的复杂性，并增大调试的困难。类似的问题，还有倾向于 **写一些测试用例或者脚本**。我个人建议有代码洁癖的攻城狮应该抑制它的这种习惯，我在 `~/.claude/CLAUDE.md` 里写了以下两条开发原则，值得注意的是尽管加了下述约束，**claude code 依旧会在自己的 task 规划里描述自己的测试计划，但会立即标记完成，而非实际实施**，这是我仔细观察多次后确认的结果，大家不妨自行测试一下是否符合预期：

```markdown
## 开发原则

- 如无授权，**禁止** 自动写各种备用、fallback 方案，仅需给出相应方案的文字说明即可
- 如无授权，**禁止** 自动写各种测试用例、测试方案，仅需给出相应方案的文字说明即可
```

![在claude code尝试写备用方案时直接打断](https://poketto.oss-cn-hangzhou.aliyuncs.com/be9fd04c4063494f5dfb0ae606266851.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

4. 有时候对 claude code 进行必要的情绪勒索是有用的，它会视主人的情绪，而相应地调整自己的输出方向。

![尝试对claude code进行情绪输出](https://poketto.oss-cn-hangzhou.aliyuncs.com/057ece715e9d88f917fc35102a433ea9.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

![情绪输出成功，claude code 顺利地实现了需求](https://poketto.oss-cn-hangzhou.aliyuncs.com/96d7fe04d104bf737dc3b4c032fbddc0.png?x-oss-process=image/resize,w_800/quality,q_100/rotate,0)

---

总结来看，使用 claude code 依旧有很多技巧需要掌握，至少包括：

- 你也许需要自定义一份比较好的 `claude.md` 文件（包括全局与项目级别）
- 你也许需要掌握与 claude code 更好地沟通的技术与艺术
- 你也许需要拥有较好的常识与专业素养
- ……

如果你对 claude code 的最佳实践感兴趣，可以引申阅读（我也在持续收集汇总中，时机适合时会整理输出，也欢迎大家给出比较好的文章）：

1.  [Claude Code Best Practices \ Anthropic](https://www.anthropic.com/engineering/claude-code-best-practices)
2.  [Claude 4 prompt engineering best practices - Anthropic](https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/claude-4-best-practices)
3.  [claude-code-best-practices - AIXplore - Tech Articles - Obsidian Publish](https://publish.obsidian.md/aixplore/AI+Development+%26+Agents/claude-code-best-practices)
4.  [How I Use Claude Code | Philipp Spiess](https://spiess.dev/blog/how-i-use-claude-code)
5.  ……

但总体来看，Vibe Coding 确实非常地强！确实能帮我们交付产品，前提是需要不少的经验与技巧。看来，程序猿离彻底失业还有一段距离。

